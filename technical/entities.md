---
description: Описание всех сущностей системы
---

# Entities

## Gluon parts

### Client

* пользователь системы создающий запрос на обмен криптовалют
* может использовать вэб интерфейс к системе, либо Web3 API
* должен иметь еthereum кошелёк для работы с биржей. Кошелёк необходим для инициации сделки и для получения возможных выплат в случаи нарушений со стороны исполнителя

### Relayer

* исполняет заявки поданные клиентом
* заносит в смарт-контракт Ethereum средства ETH в размере необходимом для обмена валют в соответствии с уровнями обеспечения
* выставляет адрес для приема криптовалюты и получает адрес для отсылки обмененной криптовалюты
* производит обмен
* переводит аукцион в состояние завершение исполнения

### Validators Network

* работает на Tendermint
* поднимает ноды блокчейнов чтобы следить за выполнением сделки
* подписывает все операции в системе
* кто угодно может стать валидатором имея необходимое кол-во токенов системы
* каждый валидатор следит за индексом цены
* валидатору необходимо иметь достаточное кол-во токенов системы для подтверждения транзакции

## Ethereum parts

### Смарт-контракт

* для создания аукциона
* для блокировки страхового депозита
* для начисления вознаграждения валидаторам

### Страховой депозит

* страховой депозит размещается в смарт-контракте ethereum
* в момент аукциона блокируется сумма равная сумме сделки
* после завершения сделки страховой депозит полностью разблокируется
* если были нарушены условия сделки часть или полностью страхового депозита идёт на штрафы
* исполнитель может свободно заводить и выводить незаблокированные суммы из страхового депозита
* после блокировки страхового депозита разблокировка производится при помощи валидаторов, как только исполнитель корректно выполнил обмен

## Tendermint parts

### Аукцион

* аукцион на обмен токенов создается клиентом
* чтобы участвовать в аукционе исполнители должны заблокировать страховой депозит
* среди всех возможных исполнителей, в случайном порядке выбирается тот, кто имеет более высокий рейтинг

### Рейтинг

* влияет на вероятность выиграть аукцион
* присваивается исполнителю после завершения сделки
* чем короче время сделки и чем ближе к индексной цене тем больше присваиваемый рейтинг

### Индексная цена

* средневзвешенная цена токена по ряду бирж
* определяется каждым валидатором по единой формуле
* является референсом для начисления рейтинга и штрафов

### Штрафы

* снимаются с заблокированного страхового депозита за
  * неисполнение сделки
  * за превышение максимального времени
  * за выход цены исполнения за допустимый коридор цены исполнения
* перечисляются клиенту в ETH на кошелёк клиента

### Штрафы валидатору системы

* валидаторы могут штрафовать друг друга за неверную работу
* оштрафованный валидатор лишается части своих Gluon токенов

